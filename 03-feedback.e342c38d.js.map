{"mappings":"AACA,MAAMA,EAAUC,SAASC,cAAc,kBAmBjB,MACrB,MAAMC,EAAYC,aAAaC,QAlBZ,YAmBbC,EAAaC,KAAKC,MAAML,GAE9B,IAAKG,EACJ,OAGkBG,OAAOC,KAAKJ,GAEpBK,SAAQC,IACJZ,EAAQa,SAASD,GAEzBE,MAAQR,EAAWM,OAI3BG,GAwBAf,EAAQgB,iBAAiB,SAxDJC,IACpB,MAAMC,KAAEA,EAAIJ,MAAEA,GAAUG,EAAEE,OAEpBhB,EAAYC,aAAaC,QALZ,YAQbe,EAAW,IAFEb,KAAKC,MAAML,GAI7Be,CAACA,GAAOJ,GAGHO,EAAed,KAAKe,UAAUF,GACpChB,aAAamB,QAdM,WAceF,MA6CnCrB,EAAQgB,iBAAiB,UAvBFC,IACtBA,EAAEO,iBACF,MAAMC,EAAOR,EAAES,cACTN,EAAW,IAAIO,SAASF,GACxBG,EAAY,GAElB,IAAK,MAAOC,EAAKf,KAAUM,EAASU,UAAW,CAC9C,IAAIhB,EAEH,YADAiB,MAAM,kCAGPH,EAAUC,GAAOf,EAGlBc,EAAUI,eAAkBJ,EAAUI,aAEtCC,QAAQC,IAAIN,GAEZH,EAAKU,QACL/B,aAAagC,WAvDM","sources":["src/js/03-feedback.js"],"sourcesContent":["\nconst formRef = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = 'formData';\n\nconst inputHandler = e => {\n\tconst { name, value } = e.target;\n\n\tconst savedData = localStorage.getItem(STORAGE_KEY);\n\tconst parsedData = JSON.parse(savedData);\n\n\tconst formData = {\n\t\t...parsedData,\n\t\t[name]: value,\n\t};\n\n\tconst serlizedData = JSON.stringify(formData);\n\tlocalStorage.setItem(STORAGE_KEY, serlizedData);\n};\n\nconst rehydrateData = () => {\n\tconst savedData = localStorage.getItem(STORAGE_KEY);\n\tconst parsedData = JSON.parse(savedData);\n\n\tif (!parsedData) {\n\t\treturn;\n\t}\n\n\tconst inputNames = Object.keys(parsedData);\n\n\tinputNames.forEach(inputName => {\n\t\tconst input = formRef.elements[inputName];\n\n\t\tinput.value = parsedData[inputName];\n\t});\n};\n\nrehydrateData();\n\nconst submitHandler = (e) => {\n\te.preventDefault();\n\tconst form = e.currentTarget;\n\tconst formData = new FormData(form);\n\tconst finalData = {};\n\n\tfor (const [key, value] of formData.entries()) {\n\t\tif(!value) {\n\t\t\talert('please fill in all the fields!');\n\t\t\treturn;\n\t\t}\n\t\tfinalData[key] = value;\n\t}\n\n\tfinalData.canBeSpammed = !! finalData.canBeSpammed;\n\n\tconsole.log(finalData);\n\n\tform.reset();\n\tlocalStorage.removeItem(STORAGE_KEY);\n};\n\nformRef.addEventListener('input', inputHandler);\nformRef.addEventListener('submit', submitHandler);\n\n"],"names":["$945622fd0f572e60$var$formRef","document","querySelector","savedData","localStorage","getItem","parsedData","JSON","parse","Object","keys","forEach","inputName","elements","value","$945622fd0f572e60$var$rehydrateData","addEventListener","e","name","target","formData","serlizedData","stringify","setItem","preventDefault","form","currentTarget","FormData","finalData","key","entries","alert","canBeSpammed","console","log","reset","removeItem"],"version":3,"file":"03-feedback.e342c38d.js.map"}